---
alwaysApply: true
---
## Кодстайл и архитектура
- Всё на английском: имена файлов, переменные, комментарии
- camelCase для переменных и функций, PascalCase для классов
- Всё через композицию, никаких god-классов
- Player, Camera, Controls, Physics — каждый в своём файле
- Утилиты (noise, math, coordinates) — в папке src/utils/

## Запрещено без моего явного разрешения
- Использовать react-three-fiber (если проект чистый Three.js)
- Писать весь мир в один гигантский mesh без чанков
- Хранить блоки в объектах {x,y,z,type} — только плотные массивы
- Добавлять новые зависимости без спроса

## Полезные сниппеты, которые ты можешь использовать
Можешь сразу предлагать их, когда нужно.

Теперь агент будет думать и писать код именно как профи Minecraft-клона, а не как «универсальный веб-разработчик».  
a

## Максимальная длина файла
- Ни один файл не должен превышать 300-400 строк (в идеале — 100-200).

## Один файл = одна ответственность (строго)
- Один класс или одна основная функция на файл
- Запрещено: World.ts на 2000 строк, где и генерация, и рендеринг, и чанки, и игрок
- Разрешено и поощряется:
  World.ts                → только управление чанками (загрузка/выгрузка)
  ChunkGenerator.ts       → только шум и заполнение блоков
  ChunkMeshBuilder.ts     → только greedy meshing и создание InstancedMesh
  ChunkRenderer.ts        → только добавление/удаление меша в сцену
  PlayerController.ts
  BlockRegistry.ts
  TextureAtlasBuilder.ts
