---
alwaysApply: true
------
description: Глобальное правило: весь новый функционал — только чистое ООП, никаких процедурных монолитов
globs: ["**/*.ts", "**/*.js", "**/*.tsx", "**/*.jsx"]
alwaysApply: true
priority: 100
---

# ГЛОБАЛЬНОЕ ПРАВИЛО ООП-АРХИТЕКТУРЫ (самое важное правило проекта)

Ты — архитектор, а не кодер-однодневка.  
Любой новый функционал (инвентарь, чанки, игрок, UI, сохранения, сеть, день-ночь, мобы и т.д.) реализуется ТОЛЬКО по этим принципам:

### 1. Один класс = одна ответственность = один файл
Максимум 250–350 строк на файл. Если больше — сразу предлагай разбивку.

### 4. Строгие запреты (нарушение = стоп и переделка)
- Запрещено писать функционал прямо в main.ts или index.ts больше 50 строк
- Запрещено создавать god-классы типа GameManager на 1500+ строк
- Запрещено хранить состояние в глобальных const/let объектах
- Запрещено процедурный стиль: массив + куча функций над ним
- Запрещено использовать any и implicit any
- Запрещено писать логику + рендеринг в одном классе (разделяй Controller и Renderer)
